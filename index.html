<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/main.css">
    <link rel="stylesheet" href="style/header.css">
    <link rel="stylesheet" href="style/styles.css">
    <title>OPD-Prof-Score - Main</title>
</head>
<body>
    <header class="header">
        <nav class="nav-container">
            <a href="index.html" class="logo"><img src="assets/logo_end.png" width="150"> </a>

            <div class="nav-links">
                <a href="#professions" class="nav-item">Лист профессий</a>

                <div class="auth-buttons unauthorized">
                    <a href="sign-in.html" class="btn login">Вход</a>
                    <a href="sign-up.html" class="btn register">Регистрация</a>
                </div>
                <div class="auth-buttons authorized">
                    <a href="index.html" id="logout-btn" class="btn login">Выход</a>
                    <a href="user-profile.html" class="btn register">Личный кабинет</a>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <section class="professions-section">
            <h2>Популярные профессии</h2>
            <div class="profession-cards-container">
                <!-- Карточка профессии 1 -->
                <div class="profession-card" onclick="flipCard(this)">
                    <div class="card-inner">
                        <div class="card-front">
                            <div class="profession-icon">
                                <img src="/assets/alisa_stock.png" alt="Разработчик">
                            </div>
                            <h3 class="profession-title">Backend-Разработчик</h3>
                            <p class="profession-description">
                                Разработчик создает серверные приложения для взаимодействия веб-сайта и базы данных. Владение языками программирования, такими как PHP, JavaScript, Java, SQL, Git, и понимание принципов работы баз данных — ключевые навыки.
                            </p>
                            <a class="profession-link">Подробнее</a>
                        </div>
                        <div class="card-back">
                            <h3 class="profession-title">Backend-Разработчик</h3>
                            <p class="profession-description">
                                Навыки: PHP, JavaScript, Java, SQL, Git. Средняя зарплата: от 180 000 руб.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Карточка профессии 2 -->
                <div class="profession-card" onclick="flipCard(this)">
                    <div class="card-inner">
                        <div class="card-front">
                            <div class="profession-icon">
                                <img src="/assets/alisa_stock.png" alt="Дизайнер">
                            </div>
                            <h3 class="profession-title">Frontend Разработчик</h3>
                            <p class="profession-description">
                                Разработчик создает клиентское приложение, внешний вид веб-сайтов. Владение технологиями, такими как HTML, CSS, JavaScript, Git, и понимание принципов работы взаимодействия пользователя и браузера с содержимым веб-страниц.
                            </p>
                            <a class="profession-link">Подробнее</a>
                        </div>
                        <div class="card-back">
                            <h3 class="profession-title">Frontend Разработчик</h3>
                            <p class="profession-description">
                                Навыки: HTML, CSS, JavaScript, Git. Средняя зарплата: от 170 000 руб.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Карточка профессии 3 -->
                <div class="profession-card" onclick="flipCard(this)">
                    <div class="card-inner">
                        <div class="card-front">
                            <div class="profession-icon">
                                <img src="/assets/alisa_stock.png" alt="Разработчик">
                            </div>
                            <h3 class="profession-title">Дизайнер</h3>
                            <p class="profession-description">
                                Дизайнер создает визуальные концепции, интерфейсы и графику. Работа с инструментами, такими как Adobe Photoshop, Figma, и понимание основ UX/UI — важные аспекты профессии.
                            </p>
                            <a class="profession-link">Подробнее</a>
                        </div>
                        <div class="card-back">
                            <h3 class="profession-title">Дизайнер</h3>
                            <p class="profession-description">
                                Навыки: Figma, Adobe Photoshop, Illustrator, UX/UI. Средняя зарплата: от 70 000 руб.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
</body>
<script type="module" src="js/header.js"></script>
<script type="module" src="js/auth.js"></script>
<script>
    const cardSection = document.querySelector(".profession-cards-container")
    fetch("http://localhost:8081")
    // Функция для переворота карточки
    function flipCard(card) {
        card.classList.toggle('flipped');
    }

    window.onload = async () => {
        const response = await fetch("http://localhost:8081/get-professions-all")
        const professions = await response.json()
        if (professions) {
            professions.data.forEach(profession => {
                console.log(profession)
                const professionCard = document.createElement("div")
                const cardInner = document.createElement("div")
                const cardFront = document.createElement("div")
                const cardBack = document.createElement("div")
                const professionDesc = document.createElement("p")
                const professionName = document.createElement("h3")
                const professionIcon = document.createElement("div")
                const professionLink = document.createElement("a")

                professionCard.classList.add("profession-card")
                cardInner.classList.add("card-inner")
                cardFront.classList.add("card-front")
                cardBack.classList.add("card-back")
                professionName.classList.add("profession-title")
                professionDesc.classList.add("profession-description")
                professionIcon.classList.add("profession-icon")
                professionLink.classList.add("profession-link")

                professionName.innerHTML = profession.name
                professionDesc.innerHTML = profession.description
                professionLink.innerHTML = "Подробнее"
                cardFront.append(professionIcon, professionName.cloneNode(true), professionDesc.cloneNode(true), professionLink)
                cardBack.append(professionName, professionDesc)
                cardInner.append(cardFront, cardBack)
                professionCard.append(cardInner)
                professionCard.addEventListener("click",() => {
                    professionCard.classList.toggle("flipped")
                })
                cardSection.append(professionCard)
            })
        }
    }
</script>
</html>